<ExtensionModel>

	<Runtime>
		<Import assembly="MonoDevelop.PackageManagement.dll" />
		<Import assembly="Microsoft.Web.XmlTransform.dll" />
		<Import assembly="NuGet.Core.dll" />
		<Import file="NuGet.exe" />
	</Runtime>

	<Extension path = "/MonoDevelop/Ide/Commands">
		<Command
			id = "MonoDevelop.PackageManagement.Commands.AddPackages"
			_description = "Add Packages"
			_label = "Add _Packages..."
			defaultHandler = "MonoDevelop.PackageManagement.Commands.AddPackagesHandler" />
		<Command
			id = "MonoDevelop.PackageManagement.Commands.RestorePackages"
			_description = "Restore packages"
			_label = "_Restore Packages"
			defaultHandler = "MonoDevelop.PackageManagement.Commands.RestorePackagesHandler" />
		<Command
			id="MonoDevelop.PackageManagement.Commands.Restore"
			_description="Restore"
			_label="_Restore"
			defaultHandler="MonoDevelop.PackageManagement.Commands.RestorePackagesHandler" />
		<Command
			id="MonoDevelop.PackageManagement.Commands.PackageReferenceNodeCommands.ShowPackageVersion"
			_description="Show package version"
			_label="Version" />
		<Command
			id="MonoDevelop.PackageManagement.Commands.PackageReferenceNodeCommands.UpdatePackage"
			_description="Update"
			_label="_Update" />
		<Command
			id="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInProject"
			_description="Update all packages in a project"
			_label="_Update"
			defaultHandler="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInProjectHandler" />
		<Command
			id="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInSolution"
			_description="Update all packages in a solution"
			_label="_Update Packages"
			defaultHandler="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInSolutionHandler" />
	</Extension>
	
	<Extension path="/MonoDevelop/Ide/MainMenu/Project">
		<CommandItem
			id="MonoDevelop.PackageManagement.Commands.AddPackages"
			insertafter="MonoDevelop.Ide.Commands.ProjectCommands.AddReference"
			insertbefore="ExportSeparator" />
		<CommandItem
			id = "MonoDevelop.PackageManagement.Commands.RestorePackages"
			insertafter="MonoDevelop.PackageManagement.Commands.AddPackages"
			insertbefore="ExportSeparator" />
	</Extension>
	
	<Extension path="/MonoDevelop/Ide/ContextMenu/ProjectPad">
		<Condition id="ItemType" value="Solution">
			<CommandItem
				id="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInSolution"
				insertafter="MonoDevelop.PackageManagement.Commands.AddReference"
				insertbefore="AddSectionEnd" />
			<CommandItem
				id="MonoDevelop.PackageManagement.Commands.RestorePackages"
				insertafter="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInSolution"
				insertbefore="AddSectionEnd" />
		</Condition>
		<Condition id="ItemType" value="Project">
			<CommandItem
				id="MonoDevelop.PackageManagement.Commands.AddPackages"
				insertafter="MonoDevelop.Ide.Commands.ProjectCommands.AddReference"
				insertbefore="AddSectionEnd" />
		</Condition>
		<Condition id="ItemType" value="MonoDevelop.PackageManagement.NodeBuilders.ProjectPackagesFolderNode">
			<CommandItem
				id="MonoDevelop.PackageManagement.Commands.AddPackages" />
			<CommandItem
				id="MonoDevelop.PackageManagement.Commands.UpdateAllPackagesInProject" />
			<CommandItem
				id="MonoDevelop.PackageManagement.Commands.Restore" />
		</Condition>
	</Extension>
	
	<Extension path="/MonoDevelop/Core/StockIcons">
		<StockIcon stockid="md-nuget-package" resource="packageicon.png" />
	</Extension>
	
	<Extension path="/MonoDevelop/Ide/GlobalOptionsDialog">
		<Section id="NuGetPackageManagement" _label="Packages">
			<Section
				id="General"
				_label="General"
				fill="true"
				class="MonoDevelop.PackageManagement.Gui.PackageManagementOptionsPanel" />
			<Section
				id="PackageSources"
				_label="Package Sources"
				fill="true"
				class="MonoDevelop.PackageManagement.Gui.PackageSourcesOptionsPanel" />
		</Section>
	</Extension>

	<Extension path="/MonoDevelop/Ide/ProjectTemplatePackageInstallers">
		<Class id="NuGet" class="MonoDevelop.PackageManagement.ProjectTemplateNuGetPackageInstaller" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/Pads/ProjectPad">
		<NodeBuilder class="MonoDevelop.PackageManagement.NodeBuilders.ProjectPackagesProjectNodeBuilderExtension" />
		<NodeBuilder class="MonoDevelop.PackageManagement.NodeBuilders.ProjectPackagesFolderNodeBuilder" />
		<NodeBuilder class="MonoDevelop.PackageManagement.NodeBuilders.PackageReferenceNodeBuilder" />
		<NodeBuilder class="MonoDevelop.PackageManagement.NodeBuilders.ProjectReferenceNodeBuilderExtension" />
		<NodeBuilder class="MonoDevelop.PackageManagement.NodeBuilders.ProjectReferencesNodeBuilderExtension" />
		<NodeBuilder class="MonoDevelop.PackageManagement.NodeBuilders.ProjectReferencesFromPackagesFolderNodeBuilder" />
	</Extension>

	<ExtensionPoint path = "/MonoDevelop/PackageManagement/ContextMenu/ProjectPad/PackageReference">
		<ExtensionNodeSet id="MonoDevelop.Components.Commands.ItemSet"/>
	</ExtensionPoint>

	<Extension path="/MonoDevelop/PackageManagement/ContextMenu/ProjectPad/PackageReference">
		<CommandItem id="MonoDevelop.PackageManagement.Commands.PackageReferenceNodeCommands.ShowPackageVersion" />
		<CommandItem id="MonoDevelop.PackageManagement.Commands.PackageReferenceNodeCommands.UpdatePackage" />
		<CommandItem id="MonoDevelop.Ide.Commands.EditCommands.Delete" />
	</Extension>

	<Extension path="/MonoDevelop/DesignerSupport/PropertyProviders">
		<Class class="MonoDevelop.PackageManagement.NodeBuilders.PackageReferenceNodePropertyProvider" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/StartupHandlers">
		<Class class="MonoDevelop.PackageManagement.Commands.PackageRestoreStartupHandler" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/SearchCategories">
		<Class class="MonoDevelop.PackageManagement.SearchPackagesSearchCategory" />
	</Extension>
</ExtensionModel>
